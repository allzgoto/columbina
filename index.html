<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dottore</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    background:black;
    overflow:hidden;
    font-family:Arial, Helvetica, sans-serif;
}

/* VIDEO */
video{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    object-fit:contain;
    background:black;
    z-index:-2;
}

/* BLUSH DINÃ‚MICO */
.color-overlay{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:radial-gradient(circle at center, rgba(255,0,150,0.15), rgba(0,0,0,0.85));
    mix-blend-mode:screen;
    pointer-events:none;
    z-index:-1;
    transition:background 0.5s ease;
}

/* SPLASH ENTER */
.splash{
    position:fixed;
    inset:0;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:10;
}

.enter-btn{
    font-size:32px;
    letter-spacing:4px;
    color:white;
    cursor:pointer;
    opacity:0.8;
    transition:0.3s;
}

.enter-btn:hover{
    opacity:1;
    transform:scale(1.1);
}

/* VOLUME */
.volume-wrapper{
    position:fixed;
    top:20px;
    left:20px;
    z-index:5;
    display:flex;
    align-items:center;
    gap:10px;
    opacity:0;
    transition:opacity 0.4s ease;
}

.volume-wrapper.show{
    opacity:1;
}

.volume-btn{
    width:42px;
    height:42px;
    border-radius:50%;
    backdrop-filter:blur(10px);
    background:rgba(255,255,255,0.15);
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    transition:0.3s;
}

.volume-btn:hover{
    background:rgba(255,255,255,0.25);
}

.volume-slider{
    width:0;
    overflow:hidden;
    transition:width 0.4s ease;
}

.volume-wrapper.open .volume-slider{
    width:120px;
}

.volume-slider input{
    width:100%;
    appearance:none;
    height:4px;
    background:rgba(255,255,255,0.3);
    border-radius:4px;
    outline:none;
}

.volume-slider input::-webkit-slider-thumb{
    appearance:none;
    width:14px;
    height:14px;
    border-radius:50%;
    background:white;
    cursor:pointer;
}

</style>
</head>
<body>

<div class="splash" id="splash">
    <div class="enter-btn" id="enterBtn">ENTER</div>
</div>

<video id="bgVideo" loop playsinline>
    <source src="https://files.catbox.moe/um6f2u.mp4" type="video/mp4">
</video>

<audio id="bgAudio" loop>
    <source src="https://files.catbox.moe/plro9c.mp3" type="audio/mpeg">
</audio>

<div class="color-overlay" id="overlay"></div>

<div class="volume-wrapper" id="volumeWrapper">
    <div class="volume-btn" id="volumeBtn">
        ðŸ”Š
    </div>
    <div class="volume-slider">
        <input type="range" id="volumeRange" min="0" max="1" step="0.01" value="0.7">
    </div>
</div>

<script>

const splash = document.getElementById("splash");
const enterBtn = document.getElementById("enterBtn");
const video = document.getElementById("bgVideo");
const audio = document.getElementById("bgAudio");
const overlay = document.getElementById("overlay");

const volumeWrapper = document.getElementById("volumeWrapper");
const volumeBtn = document.getElementById("volumeBtn");
const volumeRange = document.getElementById("volumeRange");

audio.volume = 0.7;

enterBtn.addEventListener("click", () => {
    splash.style.display = "none";
    video.play();
    audio.play();
    volumeWrapper.classList.add("show");
});

/* SINCRONIZAR VIDEO COM AUDIO */
audio.addEventListener("timeupdate", () => {
    if(Math.abs(video.currentTime - audio.currentTime) > 0.3){
        video.currentTime = audio.currentTime;
    }
});

/* BLUSH DINÃ‚MICO */
setInterval(()=>{
    const r = Math.floor(Math.random()*255);
    const g = Math.floor(Math.random()*255);
    const b = Math.floor(Math.random()*255);
    overlay.style.background = `radial-gradient(circle at center, rgba(${r},${g},${b},0.15), rgba(0,0,0,0.85))`;
},4000);

/* VOLUME */
let hideTimeout;

function showVolume(){
    volumeWrapper.classList.add("show");
    clearTimeout(hideTimeout);
    hideTimeout = setTimeout(()=>{
        volumeWrapper.classList.remove("show");
    },3000);
}

document.addEventListener("mousemove", showVolume);

volumeBtn.addEventListener("click",()=>{
    volumeWrapper.classList.toggle("open");
});

volumeRange.addEventListener("input",()=>{
    audio.volume = volumeRange.value;

    if(audio.volume == 0){
        volumeBtn.textContent = "ðŸ”‡";
    } else if(audio.volume < 0.5){
        volumeBtn.textContent = "ðŸ”‰";
    } else{
        volumeBtn.textContent = "ðŸ”Š";
    }
});

</script>

</body>
</html>
