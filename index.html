<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dottore</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
    background:black;
    overflow:hidden;
    font-family:Arial, sans-serif;
}

/* VIDEO */
#video{
    position:fixed;
    inset:0;
    width:100%;
    height:100%;
    object-fit:contain;
    background:black;
    z-index:-1;
}

/* LOADING */
#loadingScreen{
    position:fixed;
    inset:0;
    background:radial-gradient(circle at center,#0a0f18,#000);
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:white;
    z-index:10;
    transition:opacity .6s ease;
}

.loading-text{
    letter-spacing:6px;
    margin-bottom:20px;
    opacity:.7;
}

.progress-bar{
    width:320px;
    height:4px;
    background:rgba(255,255,255,.1);
    border-radius:4px;
    overflow:hidden;
}

.progress-fill{
    width:0%;
    height:100%;
    background:linear-gradient(90deg,#00d4ff,#ffffff);
    transition:width .2s ease;
}

/* ENTER */
#enterBox{
    margin-top:40px;
    padding:18px 60px;
    border-radius:12px;
    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.2);
    backdrop-filter:blur(15px);
    letter-spacing:6px;
    opacity:0;
    pointer-events:none;
    transition:.4s ease;
}

#enterBox.show{
    opacity:1;
    pointer-events:auto;
    cursor:pointer;
}

/* VOLUME */
#volumeWrapper{
    position:fixed;
    top:20px;
    left:20px;
    display:flex;
    align-items:center;
    gap:10px;
    z-index:20;
    opacity:0;
    transition:opacity .3s ease;
}

#volumeWrapper.visible{
    opacity:1;
}

#volumeBtn{
    width:44px;
    height:44px;
    border-radius:50%;
    backdrop-filter:blur(10px);
    background:rgba(255,255,255,0.1);
    border:1px solid rgba(255,255,255,0.2);
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
}

#sliderContainer{
    width:0;
    overflow:hidden;
    transition:width .3s ease;
}

#volumeWrapper.open #sliderContainer{
    width:120px;
}

#volumeRange{
    width:100%;
    appearance:none;
    height:4px;
    border-radius:4px;
    background:linear-gradient(to right, white 70%, rgba(255,255,255,.3) 70%);
    outline:none;
}

#volumeRange::-webkit-slider-thumb{
    appearance:none;
    width:14px;
    height:14px;
    border-radius:50%;
    background:white;
    cursor:pointer;
}
</style>
</head>
<body>

<video id="video"
playsinline
preload="auto"
loop>
    <source src="https://drive.google.com/uc?export=preview&id=19AbJPOW0UzLDjgIrxJTt3D_y3Qm8_85h" type="video/mp4">
</video>

<div id="loadingScreen">
    <div class="loading-text">INITIALIZING EXPERIMENT...</div>
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>
    <div id="enterBox">ENTER</div>
</div>

<div id="volumeWrapper">
    <div id="volumeBtn">ðŸ”Š</div>
    <div id="sliderContainer">
        <input type="range" id="volumeRange" min="0" max="1" step="0.01" value="0.7">
    </div>
</div>

<script>

const video = document.getElementById("video");
const progressFill = document.getElementById("progressFill");
const enterBox = document.getElementById("enterBox");
const loadingScreen = document.getElementById("loadingScreen");

const volumeWrapper = document.getElementById("volumeWrapper");
const volumeBtn = document.getElementById("volumeBtn");
const volumeRange = document.getElementById("volumeRange");

video.volume = 0.7;

/* ForÃ§a carregamento */
video.load();

let fakeProgress = 0;

let interval = setInterval(()=>{
    if(video.readyState >= 4){
        fakeProgress += 15;
    } else if(video.readyState >= 3){
        fakeProgress += 8;
    } else {
        fakeProgress += Math.random()*2;
    }

    if(fakeProgress >= 100){
        fakeProgress = 100;
        clearInterval(interval);
        enterBox.classList.add("show");
    }

    progressFill.style.width = fakeProgress + "%";
},200);

enterBox.addEventListener("click", ()=>{
    video.play().then(()=>{
        loadingScreen.style.opacity="0";
        setTimeout(()=>{
            loadingScreen.style.display="none";
        },600);

        volumeWrapper.classList.add("visible");
    });
});

/* Volume */
volumeBtn.addEventListener("click",()=>{
    volumeWrapper.classList.toggle("open");
});

volumeRange.addEventListener("input",()=>{
    video.volume = volumeRange.value;
    const percent = volumeRange.value*100;
    volumeRange.style.background =
    `linear-gradient(to right, white ${percent}%, rgba(255,255,255,.3) ${percent}%)`;
});

</script>

</body>
</html>
